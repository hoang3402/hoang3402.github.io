<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="wIdth=device-width, initial-scale=1.0" />
        <title>Document</title>
        <script src="./vender/angular.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/js/bootstrap.min.js"></script>
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.2.3/css/bootstrap.min.css"
        />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
            integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
    </head>
    <body ng-app="app">
        <div
            ng-controller="myController"
            style="display: flex; flex-direction: column; align-items: center"
        >
            <header>
                <h1>Dùng $http get để lấy data từ api và hiển thị</h1>
                <p>
                    API:
                    <a href="https://jsonplaceholder.typicode.com/users"
                        >https://jsonplaceholder.typicode.com/users</a
                    >
                </p>
            </header>

            <div class="formCreateNewUser container">
                <h2>Create New User</h2>
                <form>
                    <div class="form-group">
                        <label for="ID">ID:</label>
                        <input
                            type="text"
                            class="form-control"
                            id="ID"
                            placeholder="Enter ID"
                            ng-model="userIdNew"
                            ng-show="editingUser !== editItem.id"
                        />
                        <input
                            type="text"
                            class="form-control"
                            id="ID"
                            placeholder="Enter ID"
                            ng-model="editItem.id"
                            ng-show="editingUser === editItem.id"
                        />
                    </div>
                    <div class="form-group">
                        <label for="Name">Name:</label>
                        <input
                            type="text"
                            class="form-control"
                            id="Name"
                            placeholder="Enter Name"
                            ng-model="userNameNew"
                            ng-show="editingUser !== editItem.id"
                        />
                        <input
                            type="text"
                            class="form-control"
                            id="Name"
                            placeholder="Enter Name"
                            ng-model="editItem.name"
                            ng-show="editingUser === editItem.id"
                        />
                    </div>
                    <div class="form-group">
                        <label for="Birthday">Birthday:</label>
                        <input
                            type="text"
                            class="form-control"
                            id="Birthday"
                            placeholder="Enter Birthday"
                            ng-model="userBirthdayNew"
                            ng-show="editingUser !== editItem.id"
                        />
                        <input
                            type="text"
                            class="form-control"
                            id="Birthday"
                            placeholder="Enter Birthday"
                            ng-model="editItem.Birthday"
                            ng-show="editingUser === editItem.id"
                        />
                    </div>
                    <div class="form-group">
                        <label for="Email">Email:</label>
                        <input
                            type="email"
                            class="form-control"
                            id="Email"
                            placeholder="Enter Email"
                            ng-model="userEmailNew"
                            ng-show="editingUser !== editItem.id"
                        />
                        <input
                            type="email"
                            class="form-control"
                            id="Email"
                            placeholder="Enter Email"
                            ng-model="editItem.email"
                            ng-show="editingUser === editItem.id"
                        />
                    </div>
                    <button
                        type="submit"
                        class="btn btn-primary"
                        ng-click="handleAddNewUser()"
                        ng-show="editingUser !== editItem.id"
                    >
                        Create New User
                    </button>
                    <button
                        type="submit"
                        class="btn btn-primary"
                        ng-click="handleEditDone(editItem)"
                        ng-show="editingUser === editItem.id"
                    >
                        Update User
                    </button>
                </form>
            </div>

            <input
                class=""
                type="text"
                placeholder="Tìm kiếm"
                ng-model="searchInput"
            />
            <table class="table container">
                <thead>
                    <tr>
                        <th scope="col" ng-click="OrderBy('id')">ID</th>
                        <th scope="col" ng-click="OrderBy('name')">Name</th>
                        <th scope="col" ng-click="OrderBy('username')">
                            Username
                        </th>
                        <th scope="col" ng-click="OrderBy('email')">Email</th>
                        <th scope="col">Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr
                        ng-repeat="item in data | orderBy:order | filter:searchInput"
                    >
                        <th>{{item.Id}}</th>
                        <td>
                            <p ng-show="editingUser !== item.Id">
                                {{item.Name}}
                            </p>
                            <input
                                ng-show="editingUser === item.Id"
                                type="text"
                                ng-model="item.Name"
                                value=""
                            />
                        </td>
                        <td>
                            <p ng-show="editingUser !== item.Id">
                                {{item.Birthday}}
                            </p>
                            <input
                                ng-show="editingUser === item.Id"
                                type="text"
                                ng-model="item.Birthday"
                                value=""
                            />
                        </td>
                        <td>
                            <p ng-show="editingUser !== item.Id">
                                {{item.Email}}
                            </p>
                            <input
                                ng-show="editingUser === item.Id"
                                type="email"
                                ng-model="item.Email"
                                value=""
                            />
                        </td>
                        <td>
                            <button
                                type="submit"
                                value="submit"
                                class="btn btn-success btn-sm"
                                ng-click="handleEdit(item)"
                                ng-show="editingUser !== item.Id"
                            >
                                <i class="fa fa-pencil"></i>
                                Sửa
                            </button>
                            <button
                                type="submit"
                                value="submit"
                                class="btn btn-success btn-sm"
                                ng-click="handleEditDone(item)"
                                ng-show="editingUser === item.Id"
                            >
                                <i class="fa fa-check"></i>
                                Xác nhận
                            </button>
                            <button
                                type="submit"
                                value="submit"
                                class="btn btn-danger btn-sm"
                                ng-click="handleDelete(item.Id)"
                            >
                                <i class="fa fa-trash"></i>
                                Xoá
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </body>
    <script src="./js/filter.js"></script>
</html>
